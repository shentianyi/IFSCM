<script src="/assets/demand_search.js" type="text/javascript"></script>
<script type="text/javascript">
	$(function() {
		$('.textsearchbox').draggable();
		$('.forcasttype').css('cursor', 'pointer').click(function(){demand_search_activate( this );});
		$('#client_float > input.searchcontent').autocomplete({source: "/organisation_manager/redis_search", appendTo: "#client_float"} );
		$('#supplier_float > input.searchcontent').autocomplete({source: "/organisation_manager/redis_search", appendTo: "#supplier_float"} );
		$("#partNr_float > input.searchcontent").autocomplete({ source:"/part/redis_search", appendTo: "#partNr_float" });
		
		$('#client_float > input.startsearch').click(function(){ demand_search_with_type( {client:$('#client_float > input[placeholder]').val()} );    });
		$('#supplier_float > input.startsearch').click(function(){ demand_search_with_type( {supplier:$('#supplier_float > input[placeholder]').val()} );    });
		$('#partNr_float > input.startsearch').click(function(){ demand_search_with_type( {partNr:$('#partNr_float > input[placeholder]').val()} );    });
		$('#type_float > input.searchforcasttype').click(function(){ forcasttype_reverse(this); });
		get_kestrel();
		demand_search( {} );
	});
</script>

		<div class="textsearchbox texts" id="client_float" style="display: none">
			<span class="searchcontenttype">客户号</span>
			<input type="text" name="searchcontent" class="searchcontent" placeholder="请输入客户号" />
			<input type="button" name="startsearch" class="startsearch" value="搜索" />
			<input type="button" name="canclesearch" class="searchcancle" value="取消" onclick="pop_cancel(this);"/>
		</div>
		<div class="textsearchbox texts" id="supplier_float" style="display: none">
			<span class="searchcontenttype">供应商号</span>
			<input type="text" name="searchcontent" class="searchcontent" placeholder="请输入供应商号" />
			<input type="button" name="startsearch" class="startsearch" value="搜索" />
			<input type="button" name="canclesearch" class="searchcancle" value="取消" onclick="pop_cancel(this);"/>
		</div>
		<div class="textsearchbox texts" id="partNr_float" style="display: none">
			<span class="searchcontenttype">零件号</span>
			<input type="text" name="searchcontent" class="searchcontent" placeholder="请输入零件号" />
			<input type="button" name="startsearch" class="startsearch" value="搜索" />
			<input type="button" name="canclesearch" class="searchcancle" value="取消" onclick="pop_cancel(this);"/>
		</div>
		<div class="textsearchbox ranges" id="date_float" style="display: none">
			<span class="searchcontenttype ">日期</span>
			<input type="text" name="searchcontent" class="searchcontent" placeholder="请选择开始时间" />
			<input type="text" name="searchcontent" class="searchcontent" placeholder="请选择结束时间" />
			<input type="button" name="startsearch"	class="startsearch" value="搜索" onclick="demand_search_with_type( {start:$(this).prev().prev().val(), end:$(this).prev().val()} );"/>
			<input type="button"	name="canclesearch" class="searchcancle" value="取消" onclick="pop_cancel(this);"/>
		</div>
		<div class="textsearchbox ranges" id="amount_float" style="display: none">
			<span class="searchcontenttype ">数量</span>
			<input type="text" name="searchcontent" class="searchcontent" placeholder="请输入起始数字" />
			<input type="text" name="searchcontent" class="searchcontent" placeholder="请选择截止数字" />
			<input type="button" name="startsearch"	class="startsearch" value="搜索" onclick="demand_search_with_type( {amount:[$(this).prev().prev().val(), $(this).prev().val()]} );"/>
			<input type="button"	name="canclesearch" class="searchcancle" value="取消" onclick="pop_cancel(this);"/>
		</div>
		<div class="textsearchbox texts" id="type_float" style="display: none">
			<span class="searchcontenttype ">预测类型</span>
			<input type="button"	name="searchtype" class="searchforcasttype" value="D" />
			<input type="button" name="searchtype" class="searchforcasttype"	value="M" />
			<input type="button" name="searchtype"	class="searchforcasttype" value="Y" />
			<input type="button"	name="searchtype" class="searchforcasttype righttype" value="O" />
			<input type="button" name="startsearch" class="startsearch" value="搜索" onclick="demand_search_multi_types(this);"/>
			<input type="button" name="canclesearch" class="searchcancle"	value="取消" onclick="pop_cancel(this);"/>
		</div>
		<div class="textsearchbox ranges" id="rate_float" style="display: none">
			<span class="searchcontenttype ">变动量</span>
			<input type="text" name="searchcontent" class="searchcontent" value="请输入起始百分比" />
			<input	type="text" name="searchcontent" class="searchcontent"	value="请选择截止百分比" />
			<input type="button" name="startsearch"	class="startsearch" value="搜索" onclick="demand_search_option(this);"/>
			<input type="button"	name="canclesearch" class="searchcancle" value="取消" onclick="pop_cancel(this);" />
		</div>
<div class="forcasttypes" >
	<div class="forcasttype typeactive" demand="" >
		显示全部
	</div>
	<div class="forcasttype" demand="D" >
		D-天预测
	</div>
	<div class="forcasttype" demand="W" >
		W-周预测
	</div>
	<div class="forcasttype" demand="M" >
		M-月预测
	</div>
	<div class="forcasttype" demand="Y" >
		Y-年预测
	</div>
	<div class="forcasttype" demand="O" >
		O-订单
	</div>
	<div class="forcasttype forcastright" demand="T" >
		T-提货计划
	</div>
	<div class="notifyNewForcast" id="kestrel" style="display: inline-block ">
		确认查收
	</div>
</div>
<div id="result" class="tableview">
</div>

